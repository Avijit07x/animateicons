{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "close",
	"type": "registry:ui",
	"addGlobalCss": false,
	"registryDependencies": [],
	"dependencies": ["motion"],
	"devDependencies": [],
	"files": [
		{
			"path": "close-icon.tsx",
			"content": "\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLMotionProps, Variants } from \"motion/react\";\r\nimport { motion, useAnimation, useReducedMotion } from \"motion/react\";\r\nimport { forwardRef, useCallback, useImperativeHandle, useRef } from \"react\";\r\n\r\nexport interface CloseIconHandle {\r\n  startAnimation: () => void;\r\n  stopAnimation: () => void;\r\n}\r\n\r\ninterface CloseIconProps extends HTMLMotionProps<\"div\"> {\r\n  size?: number;\r\n  duration?: number;\r\n  isAnimated?: boolean;\r\n  type?: \"solid\";\r\n}\r\n\r\nconst CloseIcon = forwardRef<CloseIconHandle, CloseIconProps>(\r\n  (\r\n    {\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      className,\r\n      size = 24,\r\n      duration = 1,\r\n      isAnimated = true,\r\n      type = \"solid\",\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const shakeControls = useAnimation();\r\n    const drawControls = useAnimation();\r\n    const reduced = useReducedMotion();\r\n    const isControlled = useRef(false);\r\n\r\n    useImperativeHandle(ref, () => {\r\n      isControlled.current = true;\r\n      return {\r\n        startAnimation: () => {\r\n          if (reduced) {\r\n            shakeControls.start(\"normal\");\r\n            drawControls.start(\"normal\");\r\n          } else {\r\n            shakeControls.start(\"animate\");\r\n            drawControls.start(\"animate\");\r\n          }\r\n        },\r\n        stopAnimation: () => {\r\n          shakeControls.start(\"normal\");\r\n          drawControls.start(\"normal\");\r\n        },\r\n      };\r\n    });\r\n\r\n    const handleEnter = useCallback(\r\n      (e?: React.MouseEvent<HTMLDivElement>) => {\r\n        if (!isAnimated || reduced) return;\r\n        if (!isControlled.current) {\r\n          shakeControls.start(\"animate\");\r\n          drawControls.start(\"animate\");\r\n        } else {\r\n          onMouseEnter?.(e as any);\r\n        }\r\n      },\r\n      [shakeControls, drawControls, reduced, isAnimated, onMouseEnter],\r\n    );\r\n\r\n    const handleLeave = useCallback(\r\n      (e: React.MouseEvent<HTMLDivElement>) => {\r\n        if (!isControlled.current) {\r\n          shakeControls.start(\"normal\");\r\n          drawControls.start(\"normal\");\r\n        } else {\r\n          onMouseLeave?.(e as any);\r\n        }\r\n      },\r\n      [shakeControls, drawControls, onMouseLeave],\r\n    );\r\n\r\n    const drawVariants: Variants = {\r\n      normal: {\r\n        pathLength: 1,\r\n        opacity: 1,\r\n        fillOpacity: 1,\r\n      },\r\n      animate: {\r\n        scale: [0.5, 1.1, 1],\r\n        rotate: [0, -12, 12, 0],\r\n        transition: {\r\n          duration: 0.5 * duration,\r\n          ease: \"easeOut\",\r\n        },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <motion.div\r\n        className={cn(\"relative inline-flex\", className)}\r\n        onMouseEnter={handleEnter}\r\n        onMouseLeave={handleLeave}\r\n        {...props}\r\n      >\r\n        <motion.svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width={size}\r\n          height={size}\r\n          viewBox=\"0 0 640 640\"\r\n          animate={shakeControls}\r\n          initial=\"normal\"\r\n        >\r\n          <motion.path\r\n            fill=\"currentColor\"\r\n            d=\"M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z\"\r\n            animate={drawControls}\r\n            initial=\"normal\"\r\n            variants={drawVariants}\r\n            style={{ originX: \"50%\", originY: \"50%\" }}\r\n          />\r\n        </motion.svg>\r\n      </motion.div>\r\n    );\r\n  },\r\n);\r\n\r\nCloseIcon.displayName = \"CloseIcon\";\r\nexport { CloseIcon };",
			"type": "registry:ui"
		}
	]
}
